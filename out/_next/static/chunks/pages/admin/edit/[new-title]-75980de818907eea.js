(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{4560:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/edit/[new-title]",function(){return n(5932)}])},224:function(e,t,n){"use strict";var a,r=n(7568),i=n(1799),u=n(9396),o=n(4051),s=n.n(o),c=n(5893),l=n(1163),p=n(7294),d=n(8948),f=n(2782),E=n(8482),y={time:"",title:"",subtitle:"",body:"",image:null,imageName:"",imageDesc:""};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.BODY:return(0,u.Z)((0,i.Z)({},e),{body:t.payload});case a.IMAGE:return(0,u.Z)((0,i.Z)({},e),{image:t.payload});case a.IMAGENAME:return(0,u.Z)((0,i.Z)({},e),{imageName:t.payload});case a.IMAGEDESC:return(0,u.Z)((0,i.Z)({},e),{imageDesc:t.payload});case a.TITLE:return(0,u.Z)((0,i.Z)({},e),{title:t.payload});case a.TIME:return(0,u.Z)((0,i.Z)({},e),{time:t.payload});case a.SUBTITLE:return(0,u.Z)((0,i.Z)({},e),{subtitle:t.payload});case a.CLEAR:return y;default:return e}}!function(e){e.TIME="TIME",e.TITLE="TITLE",e.SUBTITLE="SUBTITLE",e.BODY="BODY",e.IMAGE="IMAGE",e.IMAGENAME="IMAMGENAME",e.IMAGEDESC="IMAGEDESC",e.CLEAR="CLEAR"}(a||(a={}));t.Z=function(e){var t=e.id,n=e.propState,i=void 0===n?y:n,u=(0,l.useRouter)(),o=(0,p.useReducer)(m,i),h=o[0],v=o[1],T=(0,d.xJ)(),g=[{placeholder:"Titulo",value:h.title,setter:function(e){return v({type:a.TITLE,payload:e})}},{placeholder:"Subtitulo",value:h.subtitle,setter:function(e){return v({type:a.SUBTITLE,payload:e})}},{placeholder:"Cuerpo",value:h.body,setter:function(e){return v({type:a.BODY,payload:e})},type:"textarea"},{placeholder:"Fecha",value:h.time,setter:function(e){return v({type:a.TIME,payload:e})},type:"datetime-local"},{placeholder:"Imagen",value:h.image,setter:function(e){return function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0];v({type:a.IMAGE,payload:t})}}(e)},type:"file"},{placeholder:"Nombre de la imagen",value:h.imageName,setter:function(e){return v({type:a.IMAGENAME,payload:e})}},{placeholder:"Descripcion de la imagen",value:h.imageDesc,setter:function(e){return v({type:a.IMAGEDESC,payload:e})}}],I=function(){var e=(0,r.Z)(s().mark((function e(n){var r,i,o,c,l,p,d,E,y,m,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,r=h.image,i=h.title,o=h.subtitle,c=h.body,l=h.time,p=h.imageDesc,d=h.imageName,E=l.replace("T"," ")+":00.000",(m=new FormData).append("file",r),m.append("title",i),m.append("time",E),m.append("body",c),m.append("subtitle",o),m.append("imageName",d),m.append("imageDesc",p),!t){e.next=19;break}return e.next=16,fetch(f.Mr+"news/"+t,{method:"PATCH",headers:{Authorization:"Bearer "+(null===T||void 0===T?void 0:T.token),"Content-Type":"application/json"},body:JSON.stringify(h)});case 16:y=e.sent,e.next=22;break;case 19:return e.next=21,fetch(f.Mr+"news",{method:"POST",headers:{Authorization:"Bearer "+(null===T||void 0===T?void 0:T.token)},body:m});case 21:y=e.sent;case 22:return e.next=24,y.json();case 24:return g=e.sent,v({type:a.CLEAR}),u.push("/admin"),e.abrupt("return",g);case 30:e.prev=30,e.t0=e.catch(1),console.error(e.t0);case 33:case"end":return e.stop()}}),e,null,[[1,30]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.jsx)(E.Z,{inputs:g,submit:I})}},5932:function(e,t,n){"use strict";n.r(t);var a=n(7568),r=n(4051),i=n.n(r),u=n(5893),o=n(9008),s=n.n(o),c=n(1163),l=n(7294),p=n(2805),d=n(224),f=n(1529),E=n(2782);t.default=function(){var e=(0,c.useRouter)(),t=(0,l.useState)(),n=t[0],r=t[1],o=(0,l.useState)(),y=o[0],m=o[1],h=function(){var t=(0,a.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,f.WC)(e.query.id).then((function(t){r(t),m(e.query.id)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){h()}),[e,e.isReady,e.query]),(0,u.jsxs)("div",{children:[(0,u.jsxs)(s(),{children:[(0,u.jsx)("title",{children:" Pacifico Basquet "}),(0,u.jsx)("meta",{name:"description",content:"Club Pacifico Basquet #DecanoPasion. Neuquen"}),(0,u.jsx)("link",{rel:"icon",href:"/Logo.png"})]}),(0,u.jsx)(p.h4,{sections:E.NS,showMenu:!1}),n&&(0,u.jsx)(d.Z,{id:y,propState:n})]})}}},function(e){e.O(0,[295,354,917,822,466,774,888,179],(function(){return t=4560,e(e.s=t);var t}));var t=e.O();_N_E=t}]);